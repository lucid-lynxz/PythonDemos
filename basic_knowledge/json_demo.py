#!/usr/local/bin/python3.5
# -*- coding: utf-8 -*-

'''
json序列化和反序列化
'''
import json

d = dict(name='lynxz', age=29)
print(json.dumps(d))

json_str = '{"age": 20, "score": 88, "name": "Bob","data":{"name":"lynxz"}}'
obj = json.loads(json_str)  # 反序列化
print(obj['age'])  # 20
result = 'https://www.pgyer.com/%s' % obj['data']['name']
print(result)

# 将json数据转传成一个的python object,而非上面的map
from collections import namedtuple

data  = '{"sta":[{"cod":"0","des":""}],"ext":[{"pk":"扩展信息"}],"datas":[{"systemid":"BFC4829D-7219-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路786号202室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"786号","haozuo_no":"786","haozuo_extra":"","haozuo_detail":"202室","building_id":"","building_name":"","seat_id":"350200110000003422095","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"202室","mapx":"118.10219188","mapy":"24.46534375","hssj":"2017-03-09 10:42:10","hsqk":"已核实","times":"5","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-E082-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路786号303室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"786号","haozuo_no":"786","haozuo_extra":"","haozuo_detail":"303室","building_id":"","building_name":"","seat_id":"350200110000003422095","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"303室","mapx":"118.10219188","mapy":"24.46534375","hssj":"2017-03-09 17:22:35","hsqk":"已核实","times":"5","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DBBD-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路786号508室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"786号","haozuo_no":"786","haozuo_extra":"","haozuo_detail":"508室","building_id":"","building_name":"","seat_id":"350200110000003422095","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"508室","mapx":"118.10219188","mapy":"24.46534375","hssj":"2017-04-26 16:42:06","hsqk":"已核实","times":"3","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC4828D-2B65-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路786号206室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"786号","haozuo_no":"786","haozuo_extra":"","haozuo_detail":"206室","building_id":"","building_name":"","seat_id":"350200110000003422095","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"206室","mapx":"118.10219188","mapy":"24.46534375","hssj":"2017-06-30 11:49:46","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DBBF-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路786号403室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"786号","haozuo_no":"786","haozuo_extra":"","haozuo_detail":"403室","building_id":"","building_name":"","seat_id":"350200110000003422095","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"403室","mapx":"118.10219188","mapy":"24.46534375","hssj":"2017-03-13 09:31:36","hsqk":"已核实","times":"5","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DC9A-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路788号407室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"788号","haozuo_no":"788","haozuo_extra":"","haozuo_detail":"407室","building_id":"","building_name":"","seat_id":"350200110000003422099","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"407室","mapx":"118.10240486","mapy":"24.46552125","hssj":"2017-07-13 10:12:06","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC4828C-C9D0-00EE-E043-0A82290600EE","all_full_addr":"思明区厦禾路788号403室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"788号","haozuo_no":"788","haozuo_extra":"","haozuo_detail":"403室","building_id":"","building_name":"","seat_id":"350200110000003422099","seat_name":"","toponym":"厦禾路","toponym_id":"350200110000000005289","room":"403室","mapx":"118.10240486","mapy":"24.46552125","hssj":"2017-03-09 21:05:56","hsqk":"已核实","times":"5","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DA88-00EE-E043-0A82290600EE","all_full_addr":"思明区文塔路1号106室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"1号","haozuo_no":"1","haozuo_extra":"","haozuo_detail":"106室","building_id":"","building_name":"","seat_id":"350200110000000559860","seat_name":"","toponym":"文塔路","toponym_id":"350200110000000003576","room":"106室","mapx":"118.10229746","mapy":"24.4651675","hssj":"2017-06-28 09:20:37","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DAE5-00EE-E043-0A82290600EE","all_full_addr":"思明区文塔路1号507室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"1号","haozuo_no":"1","haozuo_extra":"","haozuo_detail":"507室","building_id":"","building_name":"","seat_id":"350200110000000559860","seat_name":"","toponym":"文塔路","toponym_id":"350200110000000003576","room":"507室","mapx":"118.10229746","mapy":"24.4651675","hssj":"2017-07-11 17:02:16","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-DAE9-00EE-E043-0A82290600EE","all_full_addr":"思明区文塔路3号201室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"3号","haozuo_no":"3","haozuo_extra":"","haozuo_detail":"201室","building_id":"","building_name":"","seat_id":"350200110000003423289","seat_name":"","toponym":"文塔路","toponym_id":"350200110000000003576","room":"201室","mapx":"118.10252358","mapy":"24.46517228","hssj":"2017-07-13 17:04:53","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-D614-00EE-E043-0A82290600EE","all_full_addr":"思明区文塔路3号505室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"3号","haozuo_no":"3","haozuo_extra":"","haozuo_detail":"505室","building_id":"","building_name":"","seat_id":"350200110000003423289","seat_name":"","toponym":"文塔路","toponym_id":"350200110000000003576","room":"505室","mapx":"118.10252358","mapy":"24.46517228","hssj":"2017-07-13 17:08:13","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"},{"systemid":"BFC48288-D619-00EE-E043-0A82290600EE","all_full_addr":"思明区文塔路5号502室","dztype":"fwxc","qu":"福建省厦门市思明区","qu_id":"350203","xzjd":"开元街道","xzjd_id":"350203004","quxcun":"开元街道西边社区","quxcun_id":"350203004015","org_name":"厦门市公安局开元派出所","org_id":"350203106000","haozuo":"5号","haozuo_no":"5","haozuo_extra":"","haozuo_detail":"502室","building_id":"","building_name":"","seat_id":"350200110000002071597","seat_name":"","toponym":"文塔路","toponym_id":"350200110000000003576","room":"502室","mapx":"118.10229811","mapy":"24.46484161","hssj":"2017-07-12 21:39:50","hsqk":"已核实","times":"1","mlpsxdm":"","ishouse":"否","property":"启用","islog":"否","zxbz":"0","seat_cou":"0"}],"pages":[{"tsize":"6768","pnum":"564"}]}'
# data = '{"sta":[{"cod":"0","des":""}],"ext":[{"pk":"扩展信息"}],"name": "John Smith", "hometown": {"name": "北京New York", "id": 123}}'
# Parse JSON into an object with attributes corresponding to dict keys.
x = json.loads(data, object_hook=lambda d: namedtuple('X', d.keys())(*d.values()))
print(len(x.sta),x.pages)
# print(len(x.sta), x.name, x.hometown.name, x.hometown.id)


num = ""
num1 = num or "ass"
print(num1)